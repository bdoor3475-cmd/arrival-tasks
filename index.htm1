<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ù‡Ø§Ù… Ø§Ù„ÙˆØµÙˆÙ„</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background-color: #f5f5f5;
      direction: rtl;
      text-align: center;
      margin: 0;
      padding: 0;
    }

    h1 {
      margin: 30px 0;
      color: #333;
    }

    #taskContainer {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      padding: 20px;
    }

    .task-card {
      background: white;
      width: 90%;
      max-width: 500px;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: right;
      position: relative;
    }

    .task-card.done {
      border-left: 6px solid #4caf50;
      background: #e8f5e9;
    }

    .task-card.pending {
      border-left: 6px solid #f44336;
      background: #ffebee;
    }

    .task-card h3 {
      margin: 0 0 10px;
    }

    .task-card button {
      position: absolute;
      left: 15px;
      bottom: 15px;
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      background: #2196f3;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>ğŸ“‹ Ù…Ù‡Ø§Ù… Ø§Ù„ÙˆØµÙˆÙ„</h1>
  <div id="taskContainer"></div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyACC6BcByXF9xKbduEUm2c0fAZ-MGbTaso",
      authDomain: "new-projcet-d08b8.firebaseapp.com",
      databaseURL: "https://new-projcet-d08b8-default-rtdb.firebaseio.com",
      projectId: "new-projcet-d08b8",
      storageBucket: "new-projcet-d08b8.appspot.com",
      messagingSenderId: "765474496777",
      appId: "1:765474496777:web:a5b0d57aedd108c4baf3d8"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø«Ø§Ø¨ØªØ© Ù…Ø±ØªØ¨Ø© Ø­Ø³Ø¨ Ù‚Ø§Ø¦Ù…ØªÙƒ
    const orderedTasks = [
      "ØªØ¨Ù„ÙŠØº ÙˆØµÙˆÙ„ Ø§Ù„Ø­Ø§ÙÙ„Ø§Øª",
      "Ø§Ø®Ø° Ø§Ù„ØªÙÙˆÙŠØ¬ Ù…Ù† Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†",
      "ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
      "ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø­Ø§ÙÙ„Ø§Øª",
      "ØªØ¨Ù„ÙŠØº ÙˆØµÙˆÙ„ Ø§Ù„Ø±Ø­Ù„Ø©",
      "Ù‚Ø±Ø§Ø¡Ø© ØªØ£Ø´ÙŠØ±Ø© Ø£ÙˆÙ„ Ù…Ø¹ØªÙ…Ø±",
      "Ù‚Ø±Ø§Ø¡Ø© ØªØ£Ø´ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø±ÙŠÙ†",
      "Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ÙƒØ´ÙˆÙØ§Øª",
      "ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† Ù†Ù…ÙˆØ°Ø¬ Ù…Ù† Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ÙƒØ´ÙˆÙØ§Øª"
    ];

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù‡Ø§Ù… Ø¥Ù„Ù‰ Firebase Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©
    const tasksList = {};
    orderedTasks.forEach(task => {
      tasksList[task] = "pending";
    });
    db.ref("Ù…Ù‡Ø§Ù… Ø§Ù„ÙˆØµÙˆÙ„").set(tasksList);

    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‡Ø§Ù… Ø¨Ù†ÙØ³ Ø§Ù„ØªØ±ØªÙŠØ¨
    const container = document.getElementById("taskContainer");

    function renderTasks(snapshot) {
      container.innerHTML = "";
      const data = snapshot.val() || {};
      orderedTasks.forEach(key => {
        const status = data[key];
        if (status !== undefined) {
          const card = document.createElement("div");
          card.className = `task-card ${status}`;
          card.innerHTML = `
            <h3>${key}</h3>
            <p>Ø§Ù„Ø­Ø§Ù„Ø©: ${status === "done" ? "Ù…Ù†Ø¬Ø²Ø© âœ…" : "ØºÙŠØ± Ù…Ù†Ø¬Ø²Ø© âŒ"}</p>
            <button onclick="toggleStatus('${key}', '${status}')">ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©</button>
          `;
          container.appendChild(card);
        }
      });
    }

    function toggleStatus(key, currentStatus) {
      const newStatus = currentStatus === "done" ? "pending" : "done";
      db.ref("Ù…Ù‡Ø§Ù… Ø§Ù„ÙˆØµÙˆÙ„/" + key).set(newStatus);
    }

    db.ref("Ù…Ù‡Ø§Ù… Ø§Ù„ÙˆØµÙˆÙ„").on("value", renderTasks);
  </script>
</body>
</html>
